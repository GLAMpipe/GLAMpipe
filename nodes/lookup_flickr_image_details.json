{
	"nodeid": "lookup_flickr_image_details",
	"title": "Flickr image details",
	"type": "lookup",
	"subtype": "Flickr",
	"description": "Fetch image data (requires an API key)",
	"type_desc": "Lookup nodes can fetch data from metapipe collections or from external APIs.",

	"scripts": {
		"url":"var base_url = 'https://api.flickr.com/services/rest/?method=flickr.photos.getInfo'; var format = '&format=json&nojsoncallback=?';out.url = base_url + '&photo_id=' + context.node.params.field + format + '&api_key=' + context.node.params.apikey",
		
		"before_run":"context.console.log('running', node.title);",
		"run":"out.value = data.photoset.photo;",
		"after_run":"out.msg = 'Flickr image details fetched'"
	},
	
	"views": {
		"data":"<h1>data view not created!</h1><p>You must run node first!</p>",
		"data_static":"",
		"params":"<label>Flickr API key </label><input type=\"text\" name=\"apikey\" id=\"apikey\" required /><input type=\"hidden\" name=\"field\" id=\"field\" value='id'/>",
		"settings":"no settings"
	}

}

